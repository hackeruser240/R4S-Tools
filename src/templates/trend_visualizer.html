<!-- trend_visualizer.html -->

<!DOCTYPE html>
<html>
<head>
    <title>Trend Visualizer</title>
</head>
<body>
    <h2>Keyword Trend Visualizer</h2>

    <div>
        <h3>üß≠ How to Use the Keyword Trend Visualizer</h3>
        <p>
            This tool helps you visualize how keywords perform over time ‚Äî useful for spotting trends, seasonality, or sudden spikes in interest.
            <br><br>
            <strong>You have two options:</strong><br>
            1. <strong>Load Sample Data:</strong> Click the ‚ÄúLoad Sample Data‚Äù button to see a demo chart using built-in example keywords.<br>
            2. <strong>Upload Your Own CSV File:</strong> Choose a CSV file with keyword data, then click ‚ÄúUpload and Plot‚Äù to generate your own chart.
            <br><br>
            After processing, you‚Äôll see a button to view the chart in a new tab. If there‚Äôs an issue with your file, an error message will appear to help you fix it.
        </p>
    </div>
    <br><hr><br>

    <form method="POST">
        <button type="submit" name="sample">Load Sample Data</button>
    </form>

    {% if chart_exists %}
<div style="display: flex; align-items: center; gap: 10px;">
    <h3 style="margin: 0;">Trend Chart:</h3>
    <form action="{{ chart_path }}" method="get" target="_blank">
        <button type="submit">View</button>
    </form>
</div>
    {% endif %}

    <br><hr><br>

    <form method="POST" enctype="multipart/form-data">
        <label for="csvfile">Upload CSV File:</label>
        <input type="file" name="csvfile" accept=".csv">
        <input type="submit" value="Upload and Plot">
    </form>

    {% if raw_input %}
        <p><strong>Input:</strong> {{ raw_input }}</p>
    {% endif %}

    {% if error_msg %}
        <p style="color:red;">{{ error_msg }}</p>
    {% endif %}


</body>
</html>